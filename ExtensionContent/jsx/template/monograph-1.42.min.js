var proto=function(){function u(a,c){for(var d=0,p=a.length;d<p;d++){var v=a[d];if(c(v))return v}return null}function w(a,c,d,p,v){return[a[0]*p+c,a[1]*v+d,a[2]*p+c,a[3]*v+d]}function M(a){for(var c={},d=arguments,p=/svg|fill|stroke/,v=/width|height|left|top|border|background/,k=1;k<d.length;k++){var y=d[k];if(y)for(var R in y)a&&!R.search(v)||!a&&!R.search(p)||(c[R]=y[R])}return c}function D(a,c){if(a==c)return!0;if(a&&c){for(var d in c)if(("_"!=d[0]||"_base"==d)&&a[d]!=c[d])return!1;return!0}return!1}
function N(a){return a.a&&!a.b.classed("disabled")}function A(a){return a.c}function q(a){return a.d}function x(a){return a.e}function m(a){return a.f}function b(a,c){var d=this,p=a.split(" "),v=p[1],k=I("#"+v),y=k.node(),R=[],b;for(b in c){var f=c[b];"string"==typeof f&&(f=c[f]);R.push(new h(b,f))}d.g=R;d.h=-1;d.i=Array(r.length);d.b=k;d.j=0<y.namespaceURI.search("svg");d.k=!!k.attr("data-clip-path");d.a=!0;d.l=[];d.m=g;if(p=I("#"+p[0]).datum())d.n=p,p.l.push(d);"IFRAME"==y.tagName&&(k.on("load",
function(){d.c=!0;O()}).attr("src",k.attr("data-src")+"?embedded"),d.c=!1,d.o=v,d.p=y.contentWindow,d.q="",S.push(d));if(d.k)for(d.o="url(#"+v+"_cp)",p.r=d;p;)p.b.style("pointer-events","none"),p=p.n;d.s=k.classed("button")?new l(d,v):null;k.classed("_",1).datum(d);la.push(d)}function g(){if(this.r)return this.r.f;var a=this.f;if(!a)for(var c=this.l,d=c.length;d--;)var p=c[d].m(),a=a&&p?[a[0]<p[0]?a[0]:p[0],a[1]<p[1]?a[1]:p[1],a[2]>p[2]?a[2]:p[2],a[3]>p[3]?a[3]:p[3]]:a||p;return a}function l(a,c){this.o=
c;this.e=this.d=!1;this.q=this.t=""}function h(a,c){var d=a.match(Aa);this.u=d.splice(0,1);this.i=r.map(function(a){return 0<=d.indexOf(a)});this.v=c}function T(){var a=f.innerWidth,c=f.innerHeight,d=document.body;d.parentNode.style.overflow=oa?"hidden":"auto";oa?(U=Math.min(c/V,a/W),a=(a-U*W)/2,c=(c-U*V)/2):(U=1,a=a<W?0:(a-W)/2,c=c<V?0:(c-V)/2);I(d).style({background:ta?"none":X.background,width:W+"px",height:V+"px",transform:"translate("+a+"px,"+c+"px) scale("+U+")"})}function J(a,c){if(ua)pa.push(c);
else{ua=!0;for(var d=r.length,p=E.styles,v=[],k,y=[],b=d;b--;)k=da.indexOf(r[b]),k=0>k?1:da.length-k,v[b]=k;for(k=la.length;k--;)la[k].i.fill(!1);for(b=d;b--;)k=r[b],ea("."+k+"._, ."+k+" ._").each(function(a){a.i[b]=!0});if(C||!ma){for(b in Y)Y[b].w=0;for(b=da.length;b--;){k=da[b];var f=r.indexOf(k);ea("."+k+" ._,."+k+"._").each(function(a){for(var d=0;d<a.g.length;d++){var c=a.g[d],k=Y[c.u],c=c.i;k&&c[f]&&(k.w+=b)}})}var n;k=-1;for(b in Y){var e=Y[b].w;e>k&&(k=e,n=b)}z=n;ma=Y[n]}k=ma.width;n=ma.height;
if(W!=k||V!=n)W=k,V=n,T();for(k=0;k<la.length;k++){n=la[k];var g=n.b,e=!n.n||n.n.a,t=null,h=-1,l=-1,q=n.v;if(e){for(var m=0;m<n.g.length;m++){var u=n.g[m];if(u.u==z){for(var e=0,x=n.i,w=u.i,b=d;b--;)x[b]==!!w[b]?e+=v[b]:w[b]&&(e=-Infinity);e>l&&(l=e,h=m,t=u.v)}}e=!!t}g.classed("hidden",!e);n.a=e;if(q!=h||a)if(n.k&&(n.j?(e=t?n.o:"none",n.n.b.attr({"clip-path":e}).style({"-webkit-clip-path":e,"clip-path":e})):t&&Z(n.b.select("div"),{left:("-"+t.left).replace("--",""),top:("-"+t.top).replace("--","")},
null!=q)),t){if(e=n.s)l=t._opt,e.t=l&&l.pivot||"",e.e=l&&l["default"];n.v=h;n.f=t._rect;n.x=t._act;if(h=t._content){var h=g.selectAll("p").data(h),A=h.size();h.exit().remove();h.enter().append("p");h.html(function(a,d){Z(I(this),p[a._base],d<A);return a.text})}if(null==q||a||!D(n.g[q].v,t))t=M(n.j,p[t._base],t),Z(g,t,null!=q);y.push(n)}else n.f=null,n.v=null}for(k=0;k<y.length;k++)n=y[k],d=(d=n.x)&&d.load,v=y[k]=n.b.node(),d&&aa.call(v,{y:d,z:new fa(v,"load")});k&&ga.update.call(this,{elements:y});
ua=!1;if(pa.length){var y=pa,B;pa=[];for(J();y.length;)(B=y.shift())&&B()}c&&c()}}function Z(a,c,d){var b={},v={},k=null,e;for(e in c)"_"!=e[0]&&(0==e.search("svg-")?b[e.slice(4)]=c[e]:"transform"==e&&d?k=K(a.node().style[e],c[e]):v[e]=c[e]);d?(e=a.node(),c=va(e),d=wa(e),e=xa(e).split(" "),a=a.transition().ease(e[0],e[1]).duration(c).delay(d).style(v).attr(b),k&&k(a)):a.style(v).attr(b)}function K(a,c){for(var d=/([-\d\.]+)(?=deg)/,b=a.split(d),d=c.split(d),e=1;e<d.length;e+=2){var k=1*b[e],f=1*d[e];
isNaN(k)&&(a+=" rotate(0deg)",k=0);for(f-=k;180<f;)f-=360;for(;-180>f;)f+=360;d[e]=k+f}var r=d3.interpolateString(a,d.join(""));return function(a){a.styleTween("transform",function(a){return r}).each("end",function(){this.style.transform=c})}}function F(a,c,d){if(a&&a!=e){var b={},f;for(f in ba)a==ba[f].scene&&(b[f]=ba[f]);Object.keys(b).length&&(ga.navigate.call(this,{oldScene:e,newScene:a}),e=a,Y=b,z=Object.keys(b)[0],ma=b[z],J(!1,function(){c?P(c):ha&&!d&&P()}))}}function G(a,c,d){c||(d=a.C,c=
a.B,a=a.G);if(2==a)if(C&&C.s)a=I(".button.focus").node(),qa[c].call(a,d);else{var b=C?C.p:L;H.E(b,7,{G:a,B:c,C:d})}else 0==a?qa[c].call(f,d):1==a?H.E(L,c,d):(b=I(a).datum().p)?H.E(b,c,d):qa[c].call(a,d)}function ca(a,c){var d=S.filter(N);H.F(d,2,m,function(b){var e=[],k=0;ea(".button:not(.hidden):not(.disabled),iframe:not(.hidden):not(.disabled)").each(function(a){var c=a.s;if(c){if(a=a.m())c.f=a,e[k++]=c}else if(c=d.indexOf(a),0<=c)for(c=b[c],a=c.length;a--;)e[k++]=c[a]});if(a)for(var f=e.length;f--;){var r=
e[f];r.f=w(r.f,a[0],a[1],U,U)}c&&c(e)})}function B(a,c){if(c){var d=c.length;a=Ba[a];var b=u(c,q);if(!b)return null;var e=null,k;if(4>a)for(var b=b.f,f=Ca[a],r=f[4]-1,t=f[0],g=f[1],h=f[2],f=f[3];d--;){var l=c[d],z=Da[a],m=l.t,z=[(l.f[h]-b[f])*r,m.length&&z&&z.test(m)?-1:0],m=Math.min(l.f[t],b[t])-Math.max(l.f[g],b[g]);if(0<=z[0]+8&&(z[1]||8<m))for(z[0]>>=3,z[2]=l.f[g]>>3,m=0;3>m;m++)if(!k||z[m]<k[m]){e=l;k=z;break}else if(z[m]>k[m])break}else e=c.indexOf(b),e=c[((4==a?e+1:e-1)+d)%d];e&&na(e)}else ca(0,
function(c){B(a,c)})}function na(a,c){var d;ha=!1;ea(".has-focus").classed("has-focus",0);(ya=a)&&ia===a.q&&(ha=!0,d=Q(I("#"+a.o).datum()));H.F(S,3,a,function(a){for(var b=a.length;b--;)a[b]&&(ha=!0,d=Q(S[b]));ha||(d=Q());d&&J();c&&c(ha)})}function Q(a){if(C!=a){C&&(C.s&&(C.s.d=!1),ea(".focus").classed("focus",0));if(a){a.s&&(a.s.d=!0);a.b.classed("focus",1);for(var c=a;c;)c.b.classed("has-focus",1),c=c.n}ga.focuschange.call(this,{oldFocus:C&&C.b.node(),newFocus:a&&a.b.node()});C=a;return 1}}function P(a){a?
(a instanceof Array&&(a=u(a,x)||a[0]),L?H.E(L,6,a):a&&na(a)):ca(0,P)}function ra(){for(var a;a=ja.pop();)if(a[0]!=e)return F(a[0],a[1]);L&&H.E(L,5)}function fa(a,c,d){return{src:ia+(ia?"/":"")+(a.id||""),type:c,data:d}}function O(a,c){a&&(ia=a,ea(".button").each(function(c){c.s.q=a}),sa=c,L=this.source);S.every(A)&&(ta&&!sa||H.F(S,1,function(a){return a.q=(ia?ia+"/":"")+a.o},function(){sa?sa():P();ga.ready.call(this,{isMaster:!ta})}))}function aa(a){var c=a.y;a=a.z||new fa(this,"",a.C);if(c){for(var c=
c+",",d=!1,b=c.length,e="",f=[],r=[],g=0;g<b;g++){var h=c[g];'"'==h?d=!d:d?e+=h:" "==h||","==h?(e.length&&(f.push(e),e=""),","==h&&f.length&&(r.push(f),f=[])):e+=h}for(g=0;g<r.length;g++)if(c=r[g],d=t[c[0]])a.args=c,d.call(this,a)}}var E=proto_data,ba=E.artboards,X=E.settings,r=E.states,f=window,t=[],e,ma,z,Y,W,V,U,I=d3.select,ea=d3.selectAll,ka=d3.functor,za=f.addEventListener,la=[],S=[],L,ia="",sa,ja=[],ha=!1,C,ya,va=ka(X.transition_duration),xa=ka(X.easing_func+"-"+X.easing_mode),wa=ka(0),oa=X.auto_scale,
da=["press","focus","hover"],ga=d3.dispatch("fallback","ready","focuschange","navigate","update"),ta=null!=f.location.search.match(/\bembedded\b/),ua=!1,pa=[],Ba={U:0,R:1,D:2,L:3,N:4,P:5},Aa=/[^:]+/g,Da=[/u|y|a/i,/r|x|a/i,/d|y|a/i,/l|x|a/i],Ca=["20310","31022","20132","31200"],qa=[null,O,ca,na,function(a){var c;"src"in a?c=u(S,function(c){return!a.src.search(c.q+"/")}):(c=I(this).datum(),a=new fa(this,a.H,a.C));for(var d=a.type,b=!1;c;){var e=c.x;if(e&&e[d]){aa.call(c.b.node(),{y:e[d],z:a});b=!0;
break}c=c.n}b||(L?H.E(L,4,a):ga.fallback.call(this,a))},ra,P,G,aa],H=function(a){function c(a,c,e,f){if(a){var r="r"+b++;f&&(d[r]=f);a.postMessage({o:r,A:!!f,B:c,C:e},"*")}}var d={},b=0;za("message",function(c){var b=c.data,e=b.C,f=b.B;0==f?(f=e.o,d[f]&&(d[f](e.C),d[f]=null)):(b=b.A?function(a){H.D(c,a)}:null,(f=a[f])&&f.call(c,e,b))});return{E:c,F:function(a,d,b,e){var f=a.length,r=[];!f&&e&&e(r);a.map(function(a,g){var t="function"==typeof b?b(a,g):b;c(a.p,d,t,function(a){r[g]=a;!--f&&e&&e(r)})})},
D:function(a,d){c(a.source,0,{o:a.data.o,C:d})}}}(qa);return{SELF:0,PARENT:1,FOCUS:2,init:function(){var a=E.keyframes,c;for(c in a)new b(c,a[c]);za("resize",T);F(ba[0].scene);O()},tell:function(a,c,d){G(a,8,{y:c,C:d})},move:B,trigger:function(a,c,d){c&&G(a,4,{H:c,C:d})},on:function(a,c){return ga.on(a,c)},back:ra,update:J,focus:function(a){if(a){var c=I(a).datum(),d=c.s;d?P(d):c.p&&G(a,6)}},"goto":function(a,c){var d=ja.pop();d&&d[0]!=e&&ja.push(d);ja.push([e,ya]);99<ja.length&&ja.shift();F(a,null,
c)},define:function(a,c){a.pop||(a=[a]);for(var d=a.length;d--;)t[a[d]]=c},option:function(a,c){var d=void 0===c;switch(a){case "duration":return d?va:va=ka(c);case "delay":return d?wa:wa=ka(c);case "easing":return d?xa:xa=ka(c);case "autoscale":return d?oa:T(oa=c);case "states":return d?da:da=c}}}}();
(function(){function u(b,g){var l=b.split("/").filter(Boolean);return[l[g?"pop":"shift"](),l.join("/")]}function w(b){return d3.selectAll('[data-name="'+b+'"]')[0]}function M(b,g,l){for(var h=!1,m=b.length;m--;){var q=b[m].classList,u=q.contains(l);if("add"==g?!u:"remove"==g?u:1)h=!0;q[g](l)}h&&A.update()}function D(b){var g=u(b,0),l=g[0];b=g[1];var h='"'+[].slice.call(arguments,1).join('" "')+'"';b&&(h="tell "+b+" "+h);"."==l?x(proto.PARENT,h):w(l).map(function(b){x(b,h)})}function N(b){b=u(b,1);
var g=b[0];(b=b[1])?D(b,"focus",g):(g=w(g)[0])&&A.focus(g)}var A=proto,q=A.define,x=A.tell;q(["set","unset","toggle"],function(b){var g,l=b.args;b=l[0];g=l[1];if(l=l[2]){g=u(g,1);var h=g[0];if(g=g[1]){D(g,b,h,l);return}g=w(h)}else l=g,g=[this];M(g,"set"==b?"add":"unset"==b?"remove":"toggle",l)});q("tell",function(b){D.apply(this,b.args.slice(1))});q("do",function(b){A.trigger(2,b.args[1])});q("move",function(b){A.move(b.args[1])});var m={};q("wait",function(b){b=b.args;var g='"'+[].slice.call(b,2).join('" "')+
'"',l=this,h=setTimeout(function(){x(l,g);delete m[h]},1*b[1]);m[h]=this});q("cancel-wait",function(b){for(var g in m)if(b=m[g],this==b||this.contains(b))clearTimeout(g),delete m[g]});q("goto",function(b){b=b.args;var g=b[1];"focus"==b[2]?(A["goto"](g,!0),N(b[3])):A["goto"](g)});q(["enable","disable","toggle-enable"],function(b){function g(b){if(b.classList.contains("button")||"IFRAME"==b.tagName)m.push(b);else{b=b.querySelectorAll(".button,iframe");for(var g=b.length;g--;)m.push(b[g])}}var l=b.args;
b=l[0];var h=l[1],m=[];h?(h=u(h,1),l=h[0],(h=h[1])?D(h,b,l):w(l).map(g)):g(this);M(m,"disable"==b?"add":"enable"==b?"remove":"toggle","disabled")});q("focus",function(b){N(b.args[1])});q("back",function(){A.back()})})();
proto.on("ready.input",function(u){function w(b){return!b.classList.contains("disabled")}function M(b){if(J!=b){var f=document.body.classList;J&&f.remove(J);f.add(b);J=b;G()}}function D(){w(this)&&(this.classList.add("press"),G())}function N(){T(".button.press").classed("press",!1).size()&&G()}function A(b){var f=typeof b;if("string"==f||"number"==f)return!0;if("object"==f){for(var g in b)if(f=typeof b[g],"string"!=f&&"number"!=f)return!1;return!0}}function q(b){var f={},g;for(g in b){var e=b[g];
A(e)&&(f[g]=e)}return f}var x=u.isMaster,m=proto;u=proto_data.settings;var b=!1,g=!1,l=!1,h=window.addEventListener,T=d3.selectAll,J,Z=m.define,K=m.tell,F=m.trigger,G=m.update,ca=m.move,B=m.FOCUS;m.on("fallback",function(b){b=b.type;switch(b){case "L":case "R":case "U":case "D":ca(b);break;case "TAB":ca("N");break;case "STAB":ca("P");break;case "B":case "ESC":case "BACK":K(B,"back")}});Z("_input",function(b){M(b.args[1])});Z("_press",D);Z("_release",N);if(u.input_controller&&x){var na=function(b,
f){this.P=b;this.J=f;this.R=0;this.N=!1;var g=this.Q=0,e=18,h=0,l=0;this.I=function(b,f){this.R=f||0;b?(0<g?g--:(Q("buttondown",this),this.Q++,g=e,2<e&&(e=2*e/3)),this.N||(h=12),0<h&&h--):this.N&&(Q("buttonup",this),g=0,e=18,this.Q=0,0<h&&(0<l?(Q("buttondbltap",this),l=0):l=24));0<l&&(l--,0==l&&Q("buttontap",this));this.N=b}},Q=function(b,f){var g={controller:f.P,button:f.J.O,repeated:f.Q,value:f.R,isHandled:!1},e=document.createEvent("CustomEvent");e.initCustomEvent(b,!1,!1,g);window.dispatchEvent(e)},
P=function(b){this.I=(new ra(b,X)).I},ra=function(b,f){for(var g=[],e=0;e<f.length;e++)g[e]=new na(b,f[e]);this.I=function(b){for(var e=g.length;e--;){var f=g[e],h=f.J;if(null!=h.K){var l=b.buttons[h.K];l&&f.I(l.pressed,l.value)}else null!=h.L&&(l=b.axes[h.L],h=l*h.M,f.I(.7<h?!0:.2>h?!1:f.N,l))}}},fa=function(){E=Date.now();if(E-aa>ba){aa=E-(E-aa)%ba;for(var b=navigator.getGamepads(),f=0;f<b.length;f++){var g=b[f];g&&(O[f]||/xbox 360|controller/i.test(g.id)&&15<=g.buttons.length&&(O[f]=new P(f)),
O[f]&&O[f].I(g))}}window.requestAnimationFrame(fa)},O=[],aa=Date.now(),E,ba=17;navigator.getGamepads&&(fa(),x=function(b){return function(f){f=f.detail;f.isHandled||F(2,b[f.button],f)}},h("buttondown",x({LStickLeft:"L",DpadLeft:"L",LStickRight:"R",DpadRight:"R",LStickUp:"U",DpadUp:"U",LStickDown:"D",DpadDown:"D",LB:"LB",RB:"RB",LT:"LT",RT:"RT"})),h("buttonup",x({A:"A",B:"B",X:"X",Start:"Menu",Back:"View"})),h("buttontap",x({Y:"Y"})),h("buttondbltap",x({Y:"dblY"})),h("buttondown",function(g){K(B,"_input controller");
"A"!=g.detail.button||b||(b=!0,K(B,"_press"))}),h("buttonup",function(g){"A"==g.detail.button&&(b=!1,K(B,"_release"))}));var X=[{K:0,O:"A"},{K:1,O:"B"},{K:2,O:"X"},{K:3,O:"Y"},{K:4,O:"LB"},{K:5,O:"RB"},{K:6,O:"LT"},{K:7,O:"RT"},{K:8,O:"Back"},{K:9,O:"Start"},{K:10,O:"LStick"},{K:11,O:"RStick"},{K:12,O:"DpadUp"},{K:13,O:"DpadDown"},{K:14,O:"DpadLeft"},{K:15,O:"DpadRight"},{L:0,M:-1,O:"LStickLeft"},{L:0,M:1,O:"LStickRight"},{L:1,M:-1,O:"LStickUp"},{L:1,M:1,O:"LStickDown"},{L:2,M:-1,O:"RStickLeft"},
{L:2,M:1,O:"RStickRight"},{L:3,M:-1,O:"RStickUp"},{L:3,M:1,O:"RStickDown"}]}u.input_keyboard&&(x=function(b,f){return function(g){var e=g.keyCode;g.shiftKey&&(e+="+");if(e=f(e)||b[e])F(B,e,q(g)),g.preventDefault()}},h("keydown",x({37:"L",38:"U",39:"R",40:"D",9:"TAB","9+":"STAB"},function(b){K(B,"_input keyboard");13!=b||g||(g=!0,K(B,"_press"))})),h("keyup",x({8:"BACK",27:"ESC",32:"SPACE",33:"PGUP",34:"PGDN",35:"END",36:"HOME"},function(b){var f=String.fromCharCode(b);if(65<=b&&90>=b)return f+"Key";
if(48<=b&&57>=b)return"D"+f;if(13==b)return g=!1,K(B,"_release"),"ENTER"})));u.input_mouse&&(T(".button").on("mouseenter",function(){w(this)&&(this.classList.add("hover"),G())}).on("mouseleave",function(){this.classList.remove("hover");G()}).on("mousedown",function(){w(this)&&(M("mouse"),D.call(this),m.focus(this))}).on("click",function(){w(this)&&F(this,"MLB",q(d3.event))}).on("dblclick",function(){w(this)&&F(this,"dblMLB",q(d3.event))}).on("contextmenu",function(){w(this)&&F(this,"MRB",q(d3.event));
d3.event.preventDefault()}),h("mouseup",function(){N()}));if(u.input_touch)T("head").append("script").attr("type","text/javascript").attr("src","https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.6/hammer.min.js").on("load",function(){var b=function(b){for(b=b.target;b&&!b.classList.contains("button");)b=b.parentElement;return b},f=function(e){return function(f){var g=f.pointerType;("touch"==g||"pen"==g)&&(g=b(f))&&F(g,e,q(f))}},g=Hammer;(new g.Manager(document.body,{recognizers:[[g.Tap],[g.Press],
[g.Pan],[g.Pinch,null,["pan"]],[g.Swipe,null,["pan"]]]})).on("tap",f("TAP")).on("press",f("HOLD")).on("panend panmove",f("PAN")).on("swipeup",f("SWIPEU")).on("swipedown",f("SWIPED")).on("swipeleft",f("SWIPEL")).on("swiperight",f("SWIPER")).on("pinchend pinchmove",f("PINCH")).on("hammer.input",function(e){var f=e.pointerType;if("touch"==f||"pen"==f){e.preventDefault();var g=0<e.srcEvent.touches.length;g&&!l?(e=b(e))&&w(e)&&(M(f),D.call(e),m.focus(e)):!g&&l&&N();l=g}})})});
